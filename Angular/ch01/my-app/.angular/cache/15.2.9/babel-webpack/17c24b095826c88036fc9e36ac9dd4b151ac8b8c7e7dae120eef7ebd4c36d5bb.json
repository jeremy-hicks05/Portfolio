{"ast":null,"code":"var _class;\nimport { ProductDetailComponent } from '../product-detail/product-detail.component';\nimport { ProductsService } from '../products.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../product-detail/product-detail.component\";\nimport * as i3 from \"../product-host.directive\";\nimport * as i4 from \"../favorites/favorites.component\";\nimport * as i5 from \"../product-view/product-view.component\";\nimport * as i6 from \"../sort.pipe\";\nfunction ProductListComponent_li_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 4);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_li_3_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const product_r5 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.selectedProduct = product_r5);\n    });\n    i0.ɵɵelement(1, \"app-product-view\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r6 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"id\", i_r6);\n  }\n}\nfunction ProductListComponent_app_product_detail_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-product-detail\", 6);\n    i0.ɵɵlistener(\"bought\", function ProductListComponent_app_product_detail_5_Template_app_product_detail_bought_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.onBuy($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"product\", ctx_r1.selectedProduct);\n  }\n}\nfunction ProductListComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"No product selected!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductListComponent_ng_template_10_Template(rf, ctx) {}\nexport class ProductListComponent {\n  constructor() {\n    this.products = [];\n    this.productService = new ProductsService();\n  }\n  onBuy(name) {\n    window.alert(`You just bought ${this.selectedProduct?.name}!`);\n  }\n  ngOnInit() {\n    this.getProducts();\n  }\n  ngAfterViewInit() {\n    if (this.productDetail) {\n      console.log(`From AfterViewInit ${this.productDetail.product}`);\n    }\n  }\n  trackByProducts(index, name) {\n    return name;\n  }\n  getProducts() {\n    this.productService.getProducts().subscribe(products => {\n      this.products = products;\n    });\n  }\n  getProduct() {}\n}\n_class = ProductListComponent;\n_class.ɵfac = function ProductListComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-product-list\"]],\n  viewQuery: function ProductListComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(ProductDetailComponent, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.productDetail = _t.first);\n    }\n  },\n  features: [i0.ɵɵProvidersFeature([ProductsService])],\n  decls: 14,\n  vars: 5,\n  consts: [[3, \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"product\", \"bought\", 4, \"ngIf\", \"ngIfElse\"], [\"noProduct\", \"\"], [\"appProductHost\", \"\"], [3, \"click\"], [3, \"id\"], [3, \"product\", \"bought\"]],\n  template: function ProductListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Product List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"ul\");\n      i0.ɵɵtemplate(3, ProductListComponent_li_3_Template, 2, 1, \"li\", 0);\n      i0.ɵɵpipe(4, \"sort\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(5, ProductListComponent_app_product_detail_5_Template, 1, 1, \"app-product-detail\", 1);\n      i0.ɵɵtemplate(6, ProductListComponent_ng_template_6_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementStart(8, \"h3\");\n      i0.ɵɵtext(9, \"Offers\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, ProductListComponent_ng_template_10_Template, 0, 0, \"ng-template\", 3);\n      i0.ɵɵelementStart(11, \"h2\");\n      i0.ɵɵtext(12, \"Favorites\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"app-favorites\");\n    }\n    if (rf & 2) {\n      const _r2 = i0.ɵɵreference(7);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(4, 3, ctx.products));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.selectedProduct)(\"ngIfElse\", _r2);\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf, i2.ProductDetailComponent, i3.ProductHostDirective, i4.FavoritesComponent, i5.ProductViewComponent, i6.SortPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";AACA,SAASA,sBAAsB,QAAQ,4CAA4C;AAEnF,SAASC,eAAe,QAAQ,qBAAqB;;;;;;;;;;;ICAjDC,6BACwC;IAApCA;MAAA;MAAA;MAAA;MAAA;IAAA,EAAmC;IACnCA,sCAA8C;IAClDA,iBAAK;;;;IADiBA,eAAQ;IAARA,yBAAQ;;;;;;IAIlCA,6CAE6C;IAAzBA;MAAAA;MAAA;MAAA,OAAUA,mCAAa;IAAA,EAAC;IAACA,iBAAqB;;;;IAD9CA,gDAA2B;;;;;IAG3CA,yBAAG;IAAAA,oCAAoB;IAAAA,iBAAI;;;;ADF/B,OAAM,MAAOC,oBAAoB;EAI/BC;IASA,aAAQ,GACN,EAAE;IATF,IAAI,CAACC,cAAc,GAAG,IAAIJ,eAAe,EAAE;EAC7C;EAUAK,KAAK,CAACC,IAAY;IAChBC,MAAM,CAACC,KAAK,CAAC,mBAAmB,IAAI,CAACC,eAAe,EAAEH,IAAI,GAAG,CAAC;EAChE;EAEAI,QAAQ;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EAEAC,eAAe;IACb,IAAI,IAAI,CAACC,aAAa,EAAE;MACtBC,OAAO,CAACC,GAAG,CAAC,sBAAsB,IAAI,CAACF,aAAa,CAACG,OAAO,EAAE,CAAC;;EAEnE;EAEAC,eAAe,CAACC,KAAa,EAAEZ,IAAY;IACzC,OAAOA,IAAI;EACb;EAEQK,WAAW;IACjB,IAAI,CAACP,cAAc,CAACO,WAAW,EAAE,CAACQ,SAAS,CAACC,QAAQ,IAAG;MACrD,IAAI,CAACA,QAAQ,GAAGA,QAAQ;IAC1B,CAAC,CAAC;EACJ;EAEQC,UAAU,IAElB;;SA1CWnB,oBAAoB;;mBAApBA,MAAoB;AAAA;;QAApBA,MAAoB;EAAAoB;EAAAC;IAAA;qBAQpBxB,sBAAsB;;;;;;;mCAVtB,CAACC,eAAe,CAAC;EAAAwB;EAAAC;EAAAC;EAAAC;IAAA;MCT9B1B,0BAAI;MAAAA,4BAAY;MAAAA,iBAAK;MAErBA,0BAAI;MACAA,mEAGK;;MACTA,iBAAK;MAELA,mGAEkE;MAClEA,sHAEc;MAEdA,0BAAI;MAAAA,sBAAM;MAAAA,iBAAK;MACfA,uFAA0C;MAC1CA,2BAAI;MAAAA,0BAAS;MAAAA,iBAAK;MAClBA,iCAA+B;;;;MAhBHA,eAAoB;MAApBA,4DAAoB;MAM3BA,eAAuB;MAAvBA,0CAAuB","names":["ProductDetailComponent","ProductsService","i0","ProductListComponent","constructor","productService","onBuy","name","window","alert","selectedProduct","ngOnInit","getProducts","ngAfterViewInit","productDetail","console","log","product","trackByProducts","index","subscribe","products","getProduct","selectors","viewQuery","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\jhicks\\source\\repos\\jeremy-hicks05\\Portfolio\\Angular\\ch01\\my-app\\src\\app\\products\\product-list\\product-list.component.ts","C:\\Users\\jhicks\\source\\repos\\jeremy-hicks05\\Portfolio\\Angular\\ch01\\my-app\\src\\app\\products\\product-list\\product-list.component.html"],"sourcesContent":["import { AfterViewInit, Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ProductDetailComponent } from '../product-detail/product-detail.component';\r\nimport { Product } from '../product';\r\nimport { ProductsService } from '../products.service'\r\n\r\n@Component({\r\n  selector: 'app-product-list',\r\n  templateUrl: './product-list.component.html',\r\n  styleUrls: ['./product-list.component.css'],\r\n  providers: [ProductsService]\r\n})\r\nexport class ProductListComponent implements OnInit, AfterViewInit {\r\n\r\n  private productService: ProductsService;\r\n\r\n  constructor() {\r\n    this.productService = new ProductsService();\r\n  }\r\n\r\n  @ViewChild(ProductDetailComponent)\r\n  productDetail: ProductDetailComponent | undefined;\r\n\r\n  selectedProduct: Product | undefined;\r\n\r\n  products: Product[] =\r\n    [];\r\n\r\n  onBuy(name: string) {\r\n    window.alert(`You just bought ${this.selectedProduct?.name}!`);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getProducts();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.productDetail) {\r\n      console.log(`From AfterViewInit ${this.productDetail.product}`);\r\n    }\r\n  }\r\n\r\n  trackByProducts(index: number, name: string): string {\r\n    return name;\r\n  }\r\n\r\n  private getProducts() {\r\n    this.productService.getProducts().subscribe(products => {\r\n      this.products = products;\r\n    })\r\n  }\r\n\r\n  private getProduct() {\r\n\r\n  }\r\n}\r\n","<h2>Product List</h2>\r\n\r\n<ul>\r\n    <li *ngFor=\"let product of products | sort; let i=index\"\r\n        (click)=\"selectedProduct = product\">\r\n        <app-product-view [id]=\"i\"></app-product-view>\r\n    </li>\r\n</ul>\r\n\r\n<app-product-detail *ngIf=\"selectedProduct; else noProduct\"\r\n                    [product]=\"selectedProduct\"\r\n                    (bought)=\"onBuy($event)\"></app-product-detail>\r\n<ng-template #noProduct>\r\n    <p>No product selected!</p>\r\n</ng-template>\r\n\r\n<h3>Offers</h3>\r\n<ng-template appProductHost></ng-template>\r\n<h2>Favorites</h2>\r\n<app-favorites></app-favorites>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
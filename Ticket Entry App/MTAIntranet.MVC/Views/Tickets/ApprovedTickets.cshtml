@model IEnumerable<Ticket>
@{
    ViewData["Title"] = "Approved Tickets";
}

<div class="text-center">
    <h1 class="display-4">Approved Tickets</h1>
</div>

@if (Model.Count() > 0)
{
    <partial name="_Tickets" />
    @*<table class="table table-striped">
        <thead>
            <tr>
                <th>Ticket ID</th>
                <th>Category</th>
                <th>SubType</th>
                <th>Summary</th>
                <th>Approval State</th>
                <th>Approved By</th>
                <th>Date Entered</th>
                <th>Date Last Updated</th>
                <th>Impact</th>
                <th>Entered By User</th>
            </tr>
        </thead>
        <tbody>
            @foreach (Ticket t in Model)
            {
                <tr>
                    @if (Model.Count() == 1)
                    {
                        <td>@t.TicketId</td>
                    }
                    else
                    {
                        <td><a href=~/Tickets/@(t.TicketId)>@t.TicketId</a></td>
                    }
                    <td>@t.Category.Name</td>
                    <td>@t.SubType.Name</td>
                    <td>@t.Summary</td>
                    <td>@t.ApprovalState.Name</td>
                    <td>@t.ApprovedBy</td>
                    <td>@t.DateEntered.ToString("MM/dd/yyyy hh:mm tt")</td>
                    <td>@t.DateLastUpdated.ToString("MM/dd/yyyy hh:mm tt")</td>
                    <td>@t.Impact.Description</td>
                    <td>@t.EnteredByUser</td>
                </tr>
            }
        </tbody>
    </table>*@
    @*@if (Model.Count() > 1)
    {
        <a class="btn btn-primary" href="~/Tickets/AddTicket">Add New Ticket</a>
    }*@
}
else
{
    <p>No approved tickets found</p>
}
